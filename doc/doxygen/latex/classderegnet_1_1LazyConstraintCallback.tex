\hypertarget{classderegnet_1_1LazyConstraintCallback}{}\section{deregnet\+:\+:Lazy\+Constraint\+Callback Class Reference}
\label{classderegnet_1_1LazyConstraintCallback}\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}


Base lazy constraint callback class.  




{\ttfamily \#include $<$Lazy\+Constraint\+Callback.\+hpp$>$}



Inheritance diagram for deregnet\+:\+:Lazy\+Constraint\+Callback\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classderegnet_1_1LazyConstraintCallback__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for deregnet\+:\+:Lazy\+Constraint\+Callback\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=206pt]{classderegnet_1_1LazyConstraintCallback__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classderegnet_1_1LazyConstraintCallback_ad025c982974ffc3e70677948b9668600}{Lazy\+Constraint\+Callback} (std\+::map$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node}, G\+R\+B\+Var $>$ $\ast$xx, \hyperlink{namespacederegnet_a55b76c55bbabc682cbc61f8b9948799e}{Graph} $\ast$xgraph, \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $\ast$xroot, double $\ast$xgap\+\_\+cut)
\begin{DoxyCompactList}\small\item\em Constructor passing data relevant for the callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classderegnet_1_1LazyConstraintCallback_ae6cde79cca11b944d25f1533727fd85b}{callback} ()
\begin{DoxyCompactList}\small\item\em The actual callback function passed to the Gurobi optimizer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::map$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node}, G\+R\+B\+Var $>$ $\ast$ \hyperlink{classderegnet_1_1LazyConstraintCallback_a48d0e4065232a6dca6e10fe416be755f}{x}
\begin{DoxyCompactList}\small\item\em Mapping from graph nodes to subgraph containment indicator variables. \end{DoxyCompactList}\item 
\hyperlink{namespacederegnet_a55b76c55bbabc682cbc61f8b9948799e}{Graph} $\ast$ \hyperlink{classderegnet_1_1LazyConstraintCallback_af481c9d68dea2dab035e1f2f79cda4d5}{graph}
\begin{DoxyCompactList}\small\item\em The underlying graph we are searching for subgraphs in. \end{DoxyCompactList}\item 
\hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $\ast$ \hyperlink{classderegnet_1_1LazyConstraintCallback_a0ced82ab9f112cbb3e1df10a84be6c64}{original\+\_\+root}
\begin{DoxyCompactList}\small\item\em Root at beginning of the callback. \end{DoxyCompactList}\item 
\hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $\ast$ \hyperlink{classderegnet_1_1LazyConstraintCallback_aa4df18debaaf3aaace54a48b0c3e56ca}{root}
\begin{DoxyCompactList}\small\item\em Current root node. \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \hyperlink{classderegnet_1_1LazyConstraintCallback_a5ddc4662e6e5c9f1d191c15edbefaa9b}{selected\+\_\+nodes}
\begin{DoxyCompactList}\small\item\em Current nodes in the subgraph. \end{DoxyCompactList}\item 
double $\ast$ \hyperlink{classderegnet_1_1LazyConstraintCallback_a6a139307165523fa944e393e01aeec47}{gap\+\_\+cut}
\begin{DoxyCompactList}\small\item\em Gap cut value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classderegnet_1_1LazyConstraintCallback_aebc9854e98523c99d3f856ff71bb86fb}{get\+\_\+solution\+\_\+filter} (\hyperlink{namespacederegnet_a50db1f8fc7c6a954d825d9e1ed9ad302}{Node\+Filter} \&solution\+\_\+filter)=0
\begin{DoxyCompactList}\small\item\em Figure out the current solution. \end{DoxyCompactList}\item 
virtual void \hyperlink{classderegnet_1_1LazyConstraintCallback_a8f6db7da84271afcd2e2169318569558}{set\+\_\+lazy\+\_\+constraint} (const std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&component, const std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&global\+\_\+parents)=0
\begin{DoxyCompactList}\small\item\em Add lazy constraints to the model. \end{DoxyCompactList}\item 
void \hyperlink{classderegnet_1_1LazyConstraintCallback_a02eb39d4ea843597aa7c3382f17af874}{check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr} (const int num\+\_\+components, const Induced\+Subgraph\+::\+Node\+Map$<$ int $>$ \&component\+\_\+map)
\begin{DoxyCompactList}\small\item\em Check whether strong components violate any constraints and if so, add them. \end{DoxyCompactList}\item 
bool \hyperlink{classderegnet_1_1LazyConstraintCallback_a9ebed5d496c64603628b8655dd538839}{get\+\_\+component\+\_\+nodes} (const Induced\+Subgraph\+::\+Node\+Map$<$ int $>$ \&component\+\_\+map, std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&component, const int k)
\begin{DoxyCompactList}\small\item\em Gets the nodes belonging to a strong component. \end{DoxyCompactList}\item 
bool \hyperlink{classderegnet_1_1LazyConstraintCallback_a3eb6c682c8e1129036f1218513d6feb0}{is\+\_\+root\+\_\+component} (const std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&component)
\begin{DoxyCompactList}\small\item\em Check whether a component contains the root (no constraint violation possible in that case) \end{DoxyCompactList}\item 
void \hyperlink{classderegnet_1_1LazyConstraintCallback_ab1357c9415e190aaa56ed87022ec0b82}{get\+\_\+parents} (const std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&component, std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&parents, std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&global\+\_\+parents)
\begin{DoxyCompactList}\small\item\em Find in-\/neighbors of a strong component within the subgraph and globally. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Base lazy constraint callback class. 

Implements most of the basic logic concerning lazy constraints. Specializations arise from whether there is a fixed root or not (see \hyperlink{classderegnet_1_1LazyConstraintCallbackRoot}{Lazy\+Constraint\+Callback\+Root} and \hyperlink{classderegnet_1_1LazyConstraintCallbackNoRoot}{Lazy\+Constraint\+Callback\+No\+Root}) and/or whether variable groups have to be mapped with respect to reformulations of the original problem (see \hyperlink{classderegnet_1_1GrbfrcLazyConstraintCallbackRoot}{Grbfrc\+Lazy\+Constraint\+Callback\+Root} and \hyperlink{classderegnet_1_1GrbfrcLazyConstraintCallbackNoRoot}{Grbfrc\+Lazy\+Constraint\+Callback\+No\+Root}). 

Definition at line 60 of file Lazy\+Constraint\+Callback.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_ad025c982974ffc3e70677948b9668600}\label{classderegnet_1_1LazyConstraintCallback_ad025c982974ffc3e70677948b9668600}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!Lazy\+Constraint\+Callback@{Lazy\+Constraint\+Callback}}
\index{Lazy\+Constraint\+Callback@{Lazy\+Constraint\+Callback}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{Lazy\+Constraint\+Callback()}{LazyConstraintCallback()}}
{\footnotesize\ttfamily deregnet\+::\+Lazy\+Constraint\+Callback\+::\+Lazy\+Constraint\+Callback (\begin{DoxyParamCaption}\item[{std\+::map$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node}, G\+R\+B\+Var $>$ $\ast$}]{xx,  }\item[{\hyperlink{namespacederegnet_a55b76c55bbabc682cbc61f8b9948799e}{Graph} $\ast$}]{xgraph,  }\item[{\hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $\ast$}]{xroot,  }\item[{double $\ast$}]{xgap\+\_\+cut }\end{DoxyParamCaption})}



Constructor passing data relevant for the callback. 


\begin{DoxyParams}{Parameters}
{\em xx} & Mapping from graph nodes to subgraph containment indicator variables \\
\hline
{\em xgraph} & Graph one is searching for subgraphs in \\
\hline
{\em xroot} & The root node (or null if there is no fixed one) \\
\hline
{\em xgap\+\_\+cut} & The gap cut parameter \\
\hline
\end{DoxyParams}


Definition at line 54 of file Lazy\+Constraint\+Callback.\+cpp.



References gap\+\_\+cut, graph, original\+\_\+root, and root.


\begin{DoxyCode}
58  : \hyperlink{classderegnet_1_1LazyConstraintCallback_a48d0e4065232a6dca6e10fe416be755f}{x} \{ xx \},
59    \hyperlink{classderegnet_1_1LazyConstraintCallback_af481c9d68dea2dab035e1f2f79cda4d5}{graph} \{ xgraph \},
60    \hyperlink{classderegnet_1_1LazyConstraintCallback_a0ced82ab9f112cbb3e1df10a84be6c64}{original\_root} \{ xroot \},
61    \hyperlink{classderegnet_1_1LazyConstraintCallback_aa4df18debaaf3aaace54a48b0c3e56ca}{root} \{ \textcolor{keyword}{nullptr} \},
62    \hyperlink{classderegnet_1_1LazyConstraintCallback_a6a139307165523fa944e393e01aeec47}{gap\_cut} \{ xgap\_cut \}
63  \{
64     \textcolor{keywordflow}{if} (xroot) \{
65         \hyperlink{classderegnet_1_1LazyConstraintCallback_aa4df18debaaf3aaace54a48b0c3e56ca}{root} = \textcolor{keyword}{new} \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node}();
66         *\hyperlink{classderegnet_1_1LazyConstraintCallback_aa4df18debaaf3aaace54a48b0c3e56ca}{root} = *\hyperlink{classderegnet_1_1LazyConstraintCallback_a0ced82ab9f112cbb3e1df10a84be6c64}{original\_root};
67     \}
68  \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_ae6cde79cca11b944d25f1533727fd85b}\label{classderegnet_1_1LazyConstraintCallback_ae6cde79cca11b944d25f1533727fd85b}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!callback@{callback}}
\index{callback@{callback}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{callback()}{callback()}}
{\footnotesize\ttfamily void deregnet\+::\+Lazy\+Constraint\+Callback\+::callback (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



The actual callback function passed to the Gurobi optimizer. 

Describe overall callback algorithm 

Definition at line 70 of file Lazy\+Constraint\+Callback.\+cpp.



References check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr(), gap\+\_\+cut, get\+\_\+solution\+\_\+filter(), graph, and selected\+\_\+nodes.


\begin{DoxyCode}
70                                       \{
71     \textcolor{keywordflow}{try} \{
72         \textcolor{keywordflow}{if} (where == GRB\_CB\_MIPSOL) \{ \textcolor{comment}{// new incumbent found}
73             \hyperlink{namespacederegnet_a50db1f8fc7c6a954d825d9e1ed9ad302}{NodeFilter} solution\_filter(*\hyperlink{classderegnet_1_1LazyConstraintCallback_af481c9d68dea2dab035e1f2f79cda4d5}{graph});
74             \hyperlink{classderegnet_1_1LazyConstraintCallback_a5ddc4662e6e5c9f1d191c15edbefaa9b}{selected\_nodes} = \{\};
75             \hyperlink{classderegnet_1_1LazyConstraintCallback_aebc9854e98523c99d3f856ff71bb86fb}{get\_solution\_filter}(solution\_filter);
76             \hyperlink{namespacederegnet_ad1e0ad2af7b91e41fc1d8a15a1da5041}{InducedSubgraph} current\_subgraph(*\hyperlink{classderegnet_1_1LazyConstraintCallback_af481c9d68dea2dab035e1f2f79cda4d5}{graph}, solution\_filter);
77             InducedSubgraph::NodeMap<int> component\_map(current\_subgraph);
78             \textcolor{keywordtype}{int} num\_components \{ lemon::stronglyConnectedComponents(current\_subgraph, component\_map) \};
79             \textcolor{keywordflow}{if} (num\_components > 1)
80                 \hyperlink{classderegnet_1_1LazyConstraintCallback_a02eb39d4ea843597aa7c3382f17af874}{check\_and\_set\_lazy\_constr}(num\_components, component\_map);
81         \}
82         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classderegnet_1_1LazyConstraintCallback_a6a139307165523fa944e393e01aeec47}{gap\_cut} && where == GRB\_CB\_MIP) \{
83             \textcolor{keywordtype}{double} best\_objective \{ getDoubleInfo(GRB\_CB\_MIP\_OBJBST) \};
84             \textcolor{keywordtype}{double} best\_bound \{ getDoubleInfo(GRB\_CB\_MIP\_OBJBND) \};
85             \textcolor{keywordflow}{if} ( abs(best\_objective - best\_bound) < 0.000001 ) \{\}
86             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( abs(best\_objective - best\_bound) < (*\hyperlink{classderegnet_1_1LazyConstraintCallback_a6a139307165523fa944e393e01aeec47}{gap\_cut}) * (1.0 + abs(best\_objective)) ) 
      \{
87                 cout << \textcolor{stringliteral}{"Achieved "} << *\hyperlink{classderegnet_1_1LazyConstraintCallback_a6a139307165523fa944e393e01aeec47}{gap\_cut} << \textcolor{stringliteral}{" gap. Stopping optimization."} << endl;
88                 abort();
89             \}
90         \}
91     \}
92     \textcolor{keywordflow}{catch} (GRBException e) \{
93         std::cout << \textcolor{stringliteral}{"Error number: "} << e.getErrorCode() << std::endl;
94         std::cout << e.getMessage() << std::endl;
95     \}
96     \textcolor{keywordflow}{catch} (...) \{
97         std::cout << \textcolor{stringliteral}{"Error during callback"} << std::endl;
98     \}
99 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classderegnet_1_1LazyConstraintCallback_ae6cde79cca11b944d25f1533727fd85b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_a02eb39d4ea843597aa7c3382f17af874}\label{classderegnet_1_1LazyConstraintCallback_a02eb39d4ea843597aa7c3382f17af874}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr@{check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr}}
\index{check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr@{check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr()}{check\_and\_set\_lazy\_constr()}}
{\footnotesize\ttfamily void deregnet\+::\+Lazy\+Constraint\+Callback\+::check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr (\begin{DoxyParamCaption}\item[{const int}]{num\+\_\+components,  }\item[{const Induced\+Subgraph\+::\+Node\+Map$<$ int $>$ \&}]{component\+\_\+map }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Check whether strong components violate any constraints and if so, add them. 


\begin{DoxyParams}{Parameters}
{\em num\+\_\+components} & Number of strong components in the current subgraph \\
\hline
{\em component\+\_\+map} & Data structure encoding connectivity of the subgraph, mapping nodes to component id\textquotesingle{}s \\
\hline
\end{DoxyParams}


Definition at line 101 of file Lazy\+Constraint\+Callback.\+cpp.



References get\+\_\+component\+\_\+nodes(), get\+\_\+parents(), is\+\_\+root\+\_\+component(), and set\+\_\+lazy\+\_\+constraint().



Referenced by callback().


\begin{DoxyCode}
102                                                                                                          \{
103     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} k = 0; k < num\_components; k++) \{
104         std::set<Node> component;
105         std::set<Node> parents;
106         std::set<Node> global\_parents;
107         \textcolor{keywordtype}{bool} more\_than\_one\_node = \hyperlink{classderegnet_1_1LazyConstraintCallback_a9ebed5d496c64603628b8655dd538839}{get\_component\_nodes}(component\_map, component, k);  \textcolor{comment}{//
       violation of POLS}
108         \textcolor{keywordflow}{if} (!\hyperlink{classderegnet_1_1LazyConstraintCallback_a3eb6c682c8e1129036f1218513d6feb0}{is\_root\_component}(component) && more\_than\_one\_node) \{
109             \hyperlink{classderegnet_1_1LazyConstraintCallback_ab1357c9415e190aaa56ed87022ec0b82}{get\_parents}(component, parents, global\_parents);
110             \textcolor{keywordflow}{if} (parents.size() == 0)
111                 \hyperlink{classderegnet_1_1LazyConstraintCallback_a8f6db7da84271afcd2e2169318569558}{set\_lazy\_constraint}(component, global\_parents);
112         \}
113     \}
114 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classderegnet_1_1LazyConstraintCallback_a02eb39d4ea843597aa7c3382f17af874_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classderegnet_1_1LazyConstraintCallback_a02eb39d4ea843597aa7c3382f17af874_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_a9ebed5d496c64603628b8655dd538839}\label{classderegnet_1_1LazyConstraintCallback_a9ebed5d496c64603628b8655dd538839}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!get\+\_\+component\+\_\+nodes@{get\+\_\+component\+\_\+nodes}}
\index{get\+\_\+component\+\_\+nodes@{get\+\_\+component\+\_\+nodes}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{get\+\_\+component\+\_\+nodes()}{get\_component\_nodes()}}
{\footnotesize\ttfamily bool deregnet\+::\+Lazy\+Constraint\+Callback\+::get\+\_\+component\+\_\+nodes (\begin{DoxyParamCaption}\item[{const Induced\+Subgraph\+::\+Node\+Map$<$ int $>$ \&}]{component\+\_\+map,  }\item[{std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&}]{component,  }\item[{const int}]{k }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Gets the nodes belonging to a strong component. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em component\+\_\+map} & Data structure encoding connectivity of the subgraph, mapping nodes to components id\textquotesingle{}s \\
\hline
\mbox{\tt out}  & {\em component} & Nodes in the component \\
\hline
\mbox{\tt in}  & {\em k} & Component id\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether the component consists of more than one node 
\end{DoxyReturn}


Definition at line 116 of file Lazy\+Constraint\+Callback.\+cpp.



References selected\+\_\+nodes.



Referenced by check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr().


\begin{DoxyCode}
118                                                               \{
119     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} v : \hyperlink{classderegnet_1_1LazyConstraintCallback_a5ddc4662e6e5c9f1d191c15edbefaa9b}{selected\_nodes})
120         \textcolor{keywordflow}{if} (k == component\_map[v])
121             component.insert(v);
122     \textcolor{keywordflow}{if} (component.size() > 1)
123         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
124     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
125 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classderegnet_1_1LazyConstraintCallback_a9ebed5d496c64603628b8655dd538839_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_ab1357c9415e190aaa56ed87022ec0b82}\label{classderegnet_1_1LazyConstraintCallback_ab1357c9415e190aaa56ed87022ec0b82}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!get\+\_\+parents@{get\+\_\+parents}}
\index{get\+\_\+parents@{get\+\_\+parents}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{get\+\_\+parents()}{get\_parents()}}
{\footnotesize\ttfamily void deregnet\+::\+Lazy\+Constraint\+Callback\+::get\+\_\+parents (\begin{DoxyParamCaption}\item[{const std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&}]{component,  }\item[{std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&}]{parents,  }\item[{std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&}]{global\+\_\+parents }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Find in-\/neighbors of a strong component within the subgraph and globally. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em component} & A strong component of the current subgraph \\
\hline
\mbox{\tt out}  & {\em parents} & \hyperlink{structderegnet_1_1Subgraph}{Subgraph} nodes (not in component) having edges connecting to a component node \\
\hline
\mbox{\tt out}  & {\em global\+\_\+parents} & Any nodes (not in component) having edges connecting to a component node \\
\hline
\end{DoxyParams}


Definition at line 134 of file Lazy\+Constraint\+Callback.\+cpp.



References graph, I\+N\+V\+A\+L\+ID, and selected\+\_\+nodes.



Referenced by check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr().


\begin{DoxyCode}
136                                                                        \{
137     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} v : component) \{
138         \textcolor{keywordflow}{for} (\hyperlink{namespacederegnet_aed58be361aeda4ef7a9eaca2731ba830}{InArcIt} a(*\hyperlink{classderegnet_1_1LazyConstraintCallback_af481c9d68dea2dab035e1f2f79cda4d5}{graph}, v); a != \hyperlink{usinglemon_8hpp_adf770fe2eec438e3758ffe905dbae208}{INVALID}; ++a) \{
139             \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} u = \hyperlink{classderegnet_1_1LazyConstraintCallback_af481c9d68dea2dab035e1f2f79cda4d5}{graph}->source(a);
140             \textcolor{keywordflow}{if} (component.find(u) == component.end()) \{
141                 global\_parents.insert(u);
142                 \textcolor{keywordflow}{if} (find(\hyperlink{classderegnet_1_1LazyConstraintCallback_a5ddc4662e6e5c9f1d191c15edbefaa9b}{selected\_nodes}.begin(), \hyperlink{classderegnet_1_1LazyConstraintCallback_a5ddc4662e6e5c9f1d191c15edbefaa9b}{selected\_nodes}.end(), u) != 
      \hyperlink{classderegnet_1_1LazyConstraintCallback_a5ddc4662e6e5c9f1d191c15edbefaa9b}{selected\_nodes}.end())
143                     parents.insert(u);
144             \}
145         \}
146     \}
147 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classderegnet_1_1LazyConstraintCallback_ab1357c9415e190aaa56ed87022ec0b82_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_aebc9854e98523c99d3f856ff71bb86fb}\label{classderegnet_1_1LazyConstraintCallback_aebc9854e98523c99d3f856ff71bb86fb}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!get\+\_\+solution\+\_\+filter@{get\+\_\+solution\+\_\+filter}}
\index{get\+\_\+solution\+\_\+filter@{get\+\_\+solution\+\_\+filter}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{get\+\_\+solution\+\_\+filter()}{get\_solution\_filter()}}
{\footnotesize\ttfamily virtual void deregnet\+::\+Lazy\+Constraint\+Callback\+::get\+\_\+solution\+\_\+filter (\begin{DoxyParamCaption}\item[{\hyperlink{namespacederegnet_a50db1f8fc7c6a954d825d9e1ed9ad302}{Node\+Filter} \&}]{solution\+\_\+filter }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



Figure out the current solution. 

This depends on whether there is a fixed root. Correspondingly, conrete callback classed must implement this method in a suitable fashion.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em solution\+\_\+filter} & Boolean node map indicating nodes in current solution/subgraph \\
\hline
\end{DoxyParams}


Implemented in \hyperlink{classderegnet_1_1LazyConstraintCallbackNoRoot_a80686ee58b84bb1c73af6f7eddb50db6}{deregnet\+::\+Lazy\+Constraint\+Callback\+No\+Root}, and \hyperlink{classderegnet_1_1LazyConstraintCallbackRoot_afae052e08a40da4a0af8b35887b8715e}{deregnet\+::\+Lazy\+Constraint\+Callback\+Root}.



Referenced by callback().

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classderegnet_1_1LazyConstraintCallback_aebc9854e98523c99d3f856ff71bb86fb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_a3eb6c682c8e1129036f1218513d6feb0}\label{classderegnet_1_1LazyConstraintCallback_a3eb6c682c8e1129036f1218513d6feb0}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!is\+\_\+root\+\_\+component@{is\+\_\+root\+\_\+component}}
\index{is\+\_\+root\+\_\+component@{is\+\_\+root\+\_\+component}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{is\+\_\+root\+\_\+component()}{is\_root\_component()}}
{\footnotesize\ttfamily bool deregnet\+::\+Lazy\+Constraint\+Callback\+::is\+\_\+root\+\_\+component (\begin{DoxyParamCaption}\item[{const std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&}]{component }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Check whether a component contains the root (no constraint violation possible in that case) 


\begin{DoxyParams}{Parameters}
{\em component} & A strong component of the current subgraph\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether the component contains the root 
\end{DoxyReturn}


Definition at line 127 of file Lazy\+Constraint\+Callback.\+cpp.



References root.



Referenced by check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr().


\begin{DoxyCode}
127                                                                             \{
128     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} v : component)
129         \textcolor{keywordflow}{if} (v == *\hyperlink{classderegnet_1_1LazyConstraintCallback_aa4df18debaaf3aaace54a48b0c3e56ca}{root})
130             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
131     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
132 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classderegnet_1_1LazyConstraintCallback_a3eb6c682c8e1129036f1218513d6feb0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_a8f6db7da84271afcd2e2169318569558}\label{classderegnet_1_1LazyConstraintCallback_a8f6db7da84271afcd2e2169318569558}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!set\+\_\+lazy\+\_\+constraint@{set\+\_\+lazy\+\_\+constraint}}
\index{set\+\_\+lazy\+\_\+constraint@{set\+\_\+lazy\+\_\+constraint}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{set\+\_\+lazy\+\_\+constraint()}{set\_lazy\_constraint()}}
{\footnotesize\ttfamily virtual void deregnet\+::\+Lazy\+Constraint\+Callback\+::set\+\_\+lazy\+\_\+constraint (\begin{DoxyParamCaption}\item[{const std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&}]{component,  }\item[{const std\+::set$<$ \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node} $>$ \&}]{global\+\_\+parents }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



Add lazy constraints to the model. 

Given a solution $G'=(V',E')$ and a strong component $S \subset V'$ such that for all nodes $u \in V' \backslash S $, if $(u,v) \in E'$ then $v \notin S$, we add some lazy constraints to the model. These constraints have a different mathematical form depending on whether the root is fixed or not and hence concrete callback classes must implement this method correspondingly.


\begin{DoxyParams}{Parameters}
{\em component} & An strong component of the solution not reachable from other nodes of the solution \\
\hline
{\em global\+\_\+parents} & All nodes not in the component which have a an edge towards a node from the component \\
\hline
\end{DoxyParams}


Implemented in \hyperlink{classderegnet_1_1LazyConstraintCallbackNoRoot_a3703cd9ca73c46d70bb90f50bb2e66e5}{deregnet\+::\+Lazy\+Constraint\+Callback\+No\+Root}, and \hyperlink{classderegnet_1_1LazyConstraintCallbackRoot_a8cfcc3df75b7a06a9885c7f6c5286344}{deregnet\+::\+Lazy\+Constraint\+Callback\+Root}.



Referenced by check\+\_\+and\+\_\+set\+\_\+lazy\+\_\+constr().

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classderegnet_1_1LazyConstraintCallback_a8f6db7da84271afcd2e2169318569558_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_a6a139307165523fa944e393e01aeec47}\label{classderegnet_1_1LazyConstraintCallback_a6a139307165523fa944e393e01aeec47}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!gap\+\_\+cut@{gap\+\_\+cut}}
\index{gap\+\_\+cut@{gap\+\_\+cut}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{gap\+\_\+cut}{gap\_cut}}
{\footnotesize\ttfamily double$\ast$ deregnet\+::\+Lazy\+Constraint\+Callback\+::gap\+\_\+cut\hspace{0.3cm}{\ttfamily [protected]}}



Gap cut value. 



Definition at line 83 of file Lazy\+Constraint\+Callback.\+hpp.



Referenced by callback(), and Lazy\+Constraint\+Callback().

\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_af481c9d68dea2dab035e1f2f79cda4d5}\label{classderegnet_1_1LazyConstraintCallback_af481c9d68dea2dab035e1f2f79cda4d5}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!graph@{graph}}
\index{graph@{graph}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{graph}{graph}}
{\footnotesize\ttfamily \hyperlink{namespacederegnet_a55b76c55bbabc682cbc61f8b9948799e}{Graph}$\ast$ deregnet\+::\+Lazy\+Constraint\+Callback\+::graph\hspace{0.3cm}{\ttfamily [protected]}}



The underlying graph we are searching for subgraphs in. 



Definition at line 79 of file Lazy\+Constraint\+Callback.\+hpp.



Referenced by callback(), get\+\_\+parents(), deregnet\+::\+Lazy\+Constraint\+Callback\+Root\+::get\+\_\+solution\+\_\+filter(), deregnet\+::\+Lazy\+Constraint\+Callback\+No\+Root\+::get\+\_\+solution\+\_\+filter(), and Lazy\+Constraint\+Callback().

\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_a0ced82ab9f112cbb3e1df10a84be6c64}\label{classderegnet_1_1LazyConstraintCallback_a0ced82ab9f112cbb3e1df10a84be6c64}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!original\+\_\+root@{original\+\_\+root}}
\index{original\+\_\+root@{original\+\_\+root}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{original\+\_\+root}{original\_root}}
{\footnotesize\ttfamily \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node}$\ast$ deregnet\+::\+Lazy\+Constraint\+Callback\+::original\+\_\+root\hspace{0.3cm}{\ttfamily [protected]}}



Root at beginning of the callback. 



Definition at line 80 of file Lazy\+Constraint\+Callback.\+hpp.



Referenced by Lazy\+Constraint\+Callback().

\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_aa4df18debaaf3aaace54a48b0c3e56ca}\label{classderegnet_1_1LazyConstraintCallback_aa4df18debaaf3aaace54a48b0c3e56ca}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!root@{root}}
\index{root@{root}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{root}{root}}
{\footnotesize\ttfamily \hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node}$\ast$ deregnet\+::\+Lazy\+Constraint\+Callback\+::root\hspace{0.3cm}{\ttfamily [protected]}}



Current root node. 



Definition at line 81 of file Lazy\+Constraint\+Callback.\+hpp.



Referenced by deregnet\+::\+Lazy\+Constraint\+Callback\+No\+Root\+::get\+\_\+solution\+\_\+filter(), is\+\_\+root\+\_\+component(), and Lazy\+Constraint\+Callback().

\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_a5ddc4662e6e5c9f1d191c15edbefaa9b}\label{classderegnet_1_1LazyConstraintCallback_a5ddc4662e6e5c9f1d191c15edbefaa9b}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!selected\+\_\+nodes@{selected\+\_\+nodes}}
\index{selected\+\_\+nodes@{selected\+\_\+nodes}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{selected\+\_\+nodes}{selected\_nodes}}
{\footnotesize\ttfamily std\+::vector$<$\hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node}$>$ deregnet\+::\+Lazy\+Constraint\+Callback\+::selected\+\_\+nodes\hspace{0.3cm}{\ttfamily [protected]}}



Current nodes in the subgraph. 



Definition at line 82 of file Lazy\+Constraint\+Callback.\+hpp.



Referenced by callback(), get\+\_\+component\+\_\+nodes(), get\+\_\+parents(), deregnet\+::\+Lazy\+Constraint\+Callback\+Root\+::get\+\_\+solution\+\_\+filter(), and deregnet\+::\+Lazy\+Constraint\+Callback\+No\+Root\+::get\+\_\+solution\+\_\+filter().

\mbox{\Hypertarget{classderegnet_1_1LazyConstraintCallback_a48d0e4065232a6dca6e10fe416be755f}\label{classderegnet_1_1LazyConstraintCallback_a48d0e4065232a6dca6e10fe416be755f}} 
\index{deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}!x@{x}}
\index{x@{x}!deregnet\+::\+Lazy\+Constraint\+Callback@{deregnet\+::\+Lazy\+Constraint\+Callback}}
\subsubsection{\texorpdfstring{x}{x}}
{\footnotesize\ttfamily std\+::map$<$\hyperlink{namespacederegnet_a744bad34f2de9856d36715a445f027f3}{Node}, G\+R\+B\+Var$>$$\ast$ deregnet\+::\+Lazy\+Constraint\+Callback\+::x\hspace{0.3cm}{\ttfamily [protected]}}



Mapping from graph nodes to subgraph containment indicator variables. 



Definition at line 78 of file Lazy\+Constraint\+Callback.\+hpp.



Referenced by deregnet\+::\+Lazy\+Constraint\+Callback\+Root\+::get\+\_\+solution\+\_\+filter(), and deregnet\+::\+Lazy\+Constraint\+Callback\+No\+Root\+::get\+\_\+solution\+\_\+filter().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/datadisk/bbubu/home/self/bbubu/projects/deregnet/src/\hyperlink{LazyConstraintCallback_8hpp}{Lazy\+Constraint\+Callback.\+hpp}\item 
/datadisk/bbubu/home/self/bbubu/projects/deregnet/src/\hyperlink{LazyConstraintCallback_8cpp}{Lazy\+Constraint\+Callback.\+cpp}\end{DoxyCompactItemize}
